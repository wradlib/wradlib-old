

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>wradlib.vis.plot_ppi &mdash; wradlib</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/wradlib.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="wradlib" href="../index.html"/>
        <link rel="up" title="Visualisation" href="../vis.html"/>
        <link rel="next" title="wradlib.vis.plot_ppi_crosshair" href="wradlib.vis.plot_ppi_crosshair.html"/>
        <link rel="prev" title="Visualisation" href="../vis.html"/>
    
    <link href="../_static/wradlib.css" rel="stylesheet" type="text/css">


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

  <a href="../index.html" class="icon icon-home"> wradlib



</a>



  <div class="version">
    
    <button class="verbtn">0.11.1</button>
    <div class="version-content">
      
        <a href="../latest/">latest</a>
        <a href="../0.11.1/">0.11.1</a>
    </div>
  </div>



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks.html">Tutorials and Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">Library Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../io.html">Raw Data I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trafo.html">Data Transformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zr.html">Z-R Conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../georef.html">Georeferencing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ipol.html">Interpolation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qual.html">Data Quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../comp.html">Composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clutter.html">Clutter Identification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dp.html">Dual-Pol and Differential Phase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fill.html">Filling Missing Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vpr.html">Vertical Profile of Reflectivity (VPR)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../atten.html">Attenuation Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adjust.html">Gage adjustment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verify.html">Verification</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../vis.html">Visualisation</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">wradlib.vis.plot_ppi</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.plot_ppi_crosshair.html">wradlib.vis.plot_ppi_crosshair</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.plot_rhi.html">wradlib.vis.plot_rhi</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.create_cg.html">wradlib.vis.create_cg</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.plot_cg_ppi.html">wradlib.vis.plot_cg_ppi</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.plot_cg_rhi.html">wradlib.vis.plot_cg_rhi</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.plot_scan_strategy.html">wradlib.vis.plot_scan_strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.plot_plan_and_vert.html">wradlib.vis.plot_plan_and_vert</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.plot_max_plan_and_vert.html">wradlib.vis.plot_max_plan_and_vert</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.plot_tseries.html">wradlib.vis.plot_tseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.add_lines.html">wradlib.vis.add_lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="wradlib.vis.add_patches.html">wradlib.vis.add_patches</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../zonalstats.html">Zonal Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util.html">Utility functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_setup.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zreferences.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">wradlib</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../reference.html">Library Reference</a> &raquo;</li>
        
          <li><a href="../vis.html">Visualisation</a> &raquo;</li>
        
      <li>wradlib.vis.plot_ppi</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/wradlib.vis.plot_ppi.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="wradlib-vis-plot-ppi">
<h1>wradlib.vis.plot_ppi<a class="headerlink" href="#wradlib-vis-plot-ppi" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="wradlib.vis.plot_ppi">
<code class="descclassname">wradlib.vis.</code><code class="descname">plot_ppi</code><span class="sig-paren">(</span><em>data</em>, <em>r=None</em>, <em>az=None</em>, <em>autoext=True</em>, <em>site=(0</em>, <em>0)</em>, <em>proj=None</em>, <em>elev=0.0</em>, <em>fig=None</em>, <em>ax=111</em>, <em>func='pcolormesh'</em>, <em>cg=False</em>, <em>rf=1.0</em>, <em>refrac=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wradlib.vis.plot_ppi" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a Plan Position Indicator (PPI).</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.10.0: </span>added contour, contourf plotting, added <cite>cg</cite></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.6.0: </span>using osr objects instead of PROJ.4 strings as parameter</p>
</div>
<p>The implementation of this plot routine is in cartesian axes and does all
coordinate transforms beforehand. This allows zooming into the data as well
as making it easier to plot additional data (like gauge locations) without
having to convert them to the radar’s polar coordinate system.</p>
<p>Using <cite>cg=True</cite> the plotting is done in a curvelinear grid axes.
Additional data can be plotted in polar coordinates or cartesian
coordinates depending which axes object is used.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs` may be used to try to influence the
<a class="reference external" href="http://matplotlib.org/api/_as_gen/matplotlib.pyplot.pcolormesh.html#matplotlib.pyplot.pcolormesh" title="(in Matplotlib v2.1.1)"><code class="xref py py-func docutils literal"><span class="pre">matplotlib.pyplot.pcolormesh</span></code></a>, <a class="reference external" href="http://matplotlib.org/api/_as_gen/matplotlib.pyplot.contour.html#matplotlib.pyplot.contour" title="(in Matplotlib v2.1.1)"><code class="xref py py-func docutils literal"><span class="pre">matplotlib.pyplot.contour</span></code></a>,
<a class="reference external" href="http://matplotlib.org/api/_as_gen/matplotlib.pyplot.contourf.html#matplotlib.pyplot.contourf" title="(in Matplotlib v2.1.1)"><code class="xref py py-func docutils literal"><span class="pre">matplotlib.pyplot.contourf</span></code></a> and
<code class="xref py py-meth docutils literal"><span class="pre">wradlib.georef.polar2lonlatalt_n</span></code> routines under the hood.</p>
<p>There is one major caveat concerning the values of <cite>r</cite> and <cite>az</cite>.
Due to the way <a class="reference external" href="http://matplotlib.org/api/_as_gen/matplotlib.pyplot.pcolormesh.html#matplotlib.pyplot.pcolormesh" title="(in Matplotlib v2.1.1)"><code class="xref py py-func docutils literal"><span class="pre">matplotlib.pyplot.pcolormesh</span></code></a> works, <cite>r</cite> should give
the location of the start of each range bin, while <cite>az</cite> should give the
angle also at the begin (i.e. ‘leftmost’) of the beam.
This might be in contrast to other conventions, which might define ranges
and angles at the center of bin and beam.
This affects especially the default values set for <cite>r</cite> and <cite>az</cite>, but ìt
should be possible to accommodate all other conventions by setting <cite>r</cite> and
<cite>az</cite> properly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>np.array</em>) – The data to be plotted. It is assumed that the first dimension is over
the azimuth angles, while the second dimension is over the range bins</li>
<li><strong>r</strong> (<em>np.array</em>) – The ranges. Units may be chosen arbitrarily, unless proj is set. In
that case the units must be meters. If None, a default is
calculated from the dimensions of <cite>data</cite>.</li>
<li><strong>rf</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – If present, factor for scaling range axes, defaults to 1.</li>
<li><strong>az</strong> (<em>np.array</em>) – The azimuth angles in degrees. If None, a default is
calculated from the dimensions of <cite>data</cite>.</li>
<li><strong>autoext</strong> (<em>True | False</em>) – This routine uses <a class="reference external" href="http://matplotlib.org/api/_as_gen/matplotlib.pyplot.pcolormesh.html#matplotlib.pyplot.pcolormesh" title="(in Matplotlib v2.1.1)"><code class="xref py py-func docutils literal"><span class="pre">matplotlib.pyplot.pcolormesh</span></code></a> to draw the
bins.
As this function needs one set of coordinates more than would usually
be provided by <cite>r</cite> and <cite>az</cite>, setting ´autoext´ to True automatically
extends r and az so that all of <cite>data</cite> will be plotted.</li>
<li><strong>refrac</strong> (<em>True | False</em>) – If True, the effect of refractivity of the earth’s atmosphere on the
beam propagation will be taken into account. If False, simple
trigonometry will be used to calculate beam propagation.
Functionality for this will be provided by function
<code class="xref py py-meth docutils literal"><span class="pre">wradlib.georef.arc_distance_n</span></code>. Therefore, if <cite>refrac</cite> is True,
<cite>r</cite> must be given in meters.</li>
<li><strong>site</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) – Tuple of coordinates of the radar site.
If <cite>proj</cite> is not used, this simply becomes the offset for the origin
of the coordinate system.
If <cite>proj</cite> is used, values must be given as (longitude, latitude)
tuple of geographical coordinates.</li>
<li><strong>proj</strong> (<em>osr spatial reference object</em>) – GDAL OSR Spatial Reference Object describing projection
If this parameter is not None, <cite>site</cite> must be set. Then the function
will attempt to georeference the radar bins and display the PPI in the
coordinate system defined by the projection string.</li>
<li><strong>elev</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a><em> or </em><em>array of same shape as az</em>) – Elevation angle of the scan or individual azimuths.
May improve georeferencing coordinates for larger elevation angles.</li>
<li><strong>fig</strong> (<em>matplotlib Figure object</em>) – If given, the RHI will be plotted into this figure object. Axes are
created as needed. If None, a new figure object will be created or
current figure will be used, depending on “ax”.</li>
<li><strong>ax</strong> (<em>matplotlib Axes object | matplotlib grid definition</em>) – If matplotlib Axes object is given, the PPI will be plotted into this
axes object.
If matplotlib grid definition is given (nrows/ncols/plotnumber),
axis are created in the specified place.
Defaults to ‘111’, only one subplot/axis.</li>
<li><strong>func</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Name of plotting function to be used under the hood.
Defaults to ‘pcolormesh’. ‘contour’ and ‘contourf’ can be selected too.</li>
<li><strong>cg</strong> (<em>True | False</em>) – If True, the data will be plotted on curvelinear axes.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">wradlib.georef.reproject</span></code>, <code class="xref py py-func docutils literal"><span class="pre">wradlib.georef.create_osr</span></code></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>ax</strong> (<em>matplotlib Axes object</em>) – The axes object into which the PPI was plotted</li>
<li><strong>pm</strong> (<em>mmatplotlib QuadMesh object | matplotlib QuadContourSet</em>) – The result of the pcolormesh operation. Necessary, if you want to
add a colorbar to the plot.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If <cite>cg</cite> is True, the <cite>cgax</cite> - curvelinear Axes (r-theta-grid)
is returned. <cite>caax</cite> - Cartesian Axes (x-y-grid) and <cite>paax</cite> -
parasite axes object for plotting polar data can be derived like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">caax</span> <span class="o">=</span> <span class="n">cgax</span><span class="o">.</span><span class="n">parasites</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">paax</span> <span class="o">=</span> <span class="n">cgax</span><span class="o">.</span><span class="n">parasites</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>The function <cite>create_cg</cite> uses the Matplotlib AXISARTIST namespace
<a class="reference external" href="http://matplotlib.org/mpl_toolkits/axes_grid/users/axisartist.html">mpl_toolkits.axisartist</a>.</p>
<p class="last">Here are some limitations to normal Matplotlib Axes. While using the
Matplotlib <a class="reference external" href="http://matplotlib.org/mpl_toolkits/axes_grid/index.html">AxesGrid Toolkit</a>
most of the limitations can be overcome.
See <a class="reference external" href="http://matplotlib.org/mpl_toolkits/axes_grid/users/index.html">Matplotlib AxesGrid Toolkit User’s Guide</a>.</p>
</div>
<p class="rubric">Examples</p>
<p>See <a class="reference internal" href="../notebooks/visualisation/wradlib_plot_ppi_example.html"><span class="std std-ref">A simple function to plot polar data in cartesian coordinate systems</span></a>,
and <span class="xref std std-ref">notebooks/visualisation/wwradlib_plot_curvelinear_grids.ipynb</span>.</p>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="wradlib.vis.plot_ppi_crosshair.html" class="btn btn-neutral float-right" title="wradlib.vis.plot_ppi_crosshair" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../vis.html" class="btn btn-neutral" title="Visualisation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2016, wradlib developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.11.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>